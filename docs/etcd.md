The ETCD keyspace used by NetSatBench follows a hierarchical, declarative schema, where each prefix corresponds to a logical subsystem of the emulator.
The main prefixes are as follows:
```
/config
│
├── workers
│   ├── host-1
│   └── host-2
│
├── L3-config-common
│
├── epoch-config
│
├── etchosts
│   ├── sat1
│   ├── sat2
│   ├── ...
│   └── usr1
│
├── satellites
│   ├── sat1
│   ├── sat2
│   └── ...
│
├── grounds
│   └── grd1
│
├── users
│   └── usr1
│
├── links
│   ├── sat1_/<interface-name>
│   ├── sat2_/<interface-name>
│   ├── ...
│   └── sat8_/<interface-name>
│
└── run
    ├── grd1
    └── grd1_
```

## /config/workers/ 
Contains the list of worker hosts participating in the emulation, each with its JSON configuration contained in the worker-config.json file (see [configuration manual](configuration.md)). These entries are automatically created and managed by the `control/system-init-docker.py` scripts.
### Example
/config/workers/host-1
Holds the configuration data of the worker host named "host-1".
Example content:
/config/workers/host-1
```json
{
 "ip": "10.0.1.215", 
 "ssh_user": "ubuntu", 
 "ssh_key": "/home/ubuntu/.ssh/id_rsa", 
 "sat-vnet": "sat-vnet", 
 "sat-vnet-cidr": "172.100.0.0/16", 
 "sat-vnet-supernet": "172.0.0.0/8"
}
```
In addition to values contained in the worker-config.json file, the eth0_ip field specifies the IP address assigned to the node primary network interface, which is used for communication between the control plane and the worker nodes.

## /config/L3-config-common|epoch-config|satellite|ground|user
Contain the configuration data of the emulated system provided in the sat-config.json file (see [configuration manual](configuration.md)). These entries are automatically created and managed by the `control/constellation-init.py` script.

### Example
/config/satellites/sat1
```json
{
 "worker": "host-1", 
 "image": "msvcbench/sat-container:latest", 
 "subnet_ip": "192.168.0.0/29", 
 "eth0_ip": "172.100.0.5"
}
```
In addition to values contained in the sat-config.json file, the `eth0_ip` field specifies the IP address assigned to eth0_interface of the node container, which is used for establishing VXLAN links between nodes. It is automatically managed by the `sat-agent` running inside each container during its initialization.

/config/L3-config-common
```json
{
 "enable-netem": true, 
 "enable-routing": true, 
 "routing-module": "extra.isis", 
 "isis-area-id": "0001"
}
```
/config/epoch-config
```json
{
 "epoch-dir": "examples/10nodes/constellation-epochs", 
 "file-pattern": "NetSatBench-epoch*.json"
}
```

## /config/etchosts/
Holds the IP address of the loopback interface (if assigned) of any emulated node in the constellation, indexed by its name. These entries are automatically created and managed by the `sat-agent` running inside each container that properly configures the /etc/hosts file so that workloads can use node names rather than IP addresses.
### Example

/config/etchosts/sat1
```json
 192.168.0.6
```

## /config/links/
Contains the state of all emulated links in the current epoch of the emulation, indexed by the source node and interface name. Each entry holds a JSON object with the current parameters of the link, such as delay, loss, bandwidth, and status (up or down). These entries are automatically created and managed by the control/constellation-run.py script during the processing of epoch files.
### Example

/config/links/sat1_/vl_sat2_1
```json
{
 "endpoint1": "sat1", 
 "endpoint2": "sat2", 
 "rate": "10mbit",
 "loss": 0, 
 "delay": "1ms", 
 "vni": 13475210
}
```
The key `sat1_/vl_sat2_1` indicates a link originating from node `sat1` on interface `vl_sat2_1`. The interface name and the corresponding VNI are automatically generated by the constellation-run.py script when the link is added.

## /config/run/
Holds runtime information for each emulated node, indexed by its name. Each entry contains a JSON arrary with the sequence of command to be executed in the current epoch. These entries are automatically created and managed by the constellation-run.py script.
### Example
/config/run/grd1_
```json
["sleep 10", "screen -dmS iperf_test iperf3 -s"]
```